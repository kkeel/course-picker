/* =========================================================
   Schedule
   ========================================================= */

/* Schedule header row: title left, tutorial right */
.schedule-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  flex-wrap:wrap;
}

/* prevent the tutorial button from stretching */
.schedule-head .av-video-inline{
  flex: 0 0 auto;
  width: auto !important;
  max-width: 340px;
  min-width: 260px;
  margin-left: auto;
}

/* Schedule: allow this pages workspace to use full screen width */
.main-content.schedule-main{
  max-width: none;
}

/* =========================================================
   Workspace sizing (do NOT lock the page)
   ========================================================= */

:root{
  /* Tune this number if needed (it represents header + padding above the grid) */
  --sched-workspace-max-h: calc(100vh - 260px);
}

/* The 2-column area should not grow forever */
.schedule-grid{
  align-items: start; /* prevents weird stretching behavior */
}

/* Left rail: scroll internally when it gets long */
.sched-rail{
  max-height: var(--sched-workspace-max-h);
  display: flex;
  flex-direction: column;
  min-height: 0;

  /* IMPORTANT: the rail itself should NOT scroll */
  overflow: hidden;
}

/* Top area stays visible because only the body scrolls */
.sched-rail-top{
  flex: 0 0 auto;
  z-index: 5;
  background: #f6f7f3; 

  /* keep your “full width inside p-4” look */
  margin: -16px -16px 0;
  padding: 16px 16px 12px;

  border-bottom: 1px solid #e5e8e5;

  /* helps it feel “sealed” at the top */
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
}

/* Remove the inner “box” just inside the header */
.sched-rail-top .sched-target{
  padding: 0;
  border: 0;
  background: transparent;
}

/* Slightly tighten spacing so it reads like one header block */
.sched-rail-top .sched-rail-sub{
  margin-top: 6px;
}

/* Optional: make the header buttons sit nicely on the tint */
.sched-rail-top .sched-rail-btn{
  background: #fff;
}

/* The body is the ONLY scroll container */
.sched-rail-body{
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding-top: 16px;
}

.sched-rail-head-actions{
  display: flex;
  align-items: center;
  gap: 8px;
}

.sched-rail-collapse-btn{
  border: none;
  background: transparent;
  padding: 2px 4px;
  border-radius: 10px;
  color: #596e5e;
  line-height: 1;
  cursor: pointer;

  width: auto;
  height: auto;
}

.sched-rail-collapse-btn:hover{
  background: rgba(89,110,94,.08);
}

.sched-rail-collapse-icon{
  width: 20px;
  height: 20px;
  display: block;
  transition: transform 140ms ease;
}

/* rotate when collapsed */
.sched-rail-collapse-btn[aria-expanded="false"] .sched-rail-collapse-icon{
  transform: rotate(-90deg);
}

/* Optional: visually de-emphasize completed */
.sched-rail-complete-wrap .sched-rail-item{
  opacity: .68;
}

.sched-rail-complete-wrap .sched-rail-item:hover{
  opacity: .85;
}

/* Right builder: fixed-ish height with internal scrolling in panels/columns */
.sched-work{
  max-height: var(--sched-workspace-max-h);
  overflow: hidden;         /* important: prevents the whole builder from growing */
  display: flex;
  flex-direction: column;
  min-height: 0;
}

/* Let the panels area take remaining height under the topbar */
.sched-work .schedule-panels{
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* =========================================================
   Topbar (view toggle + chips)
   ========================================================= */

.schedule-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom: 12px;
}

.schedule-topbar-left{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  min-width: 0;
}

.schedule-topbar-right{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.schedule-view-toggle{
  display:flex;
  align-items:center;
  gap:8px;
}

.schedule-pill{
  border: 1px solid #d2d6d2;
  background: #fff;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  color: #596e5e;
  font-weight: 650;
  line-height: 1;
}

.schedule-pill--on{
  background: #596e5e;
  color: #fff;
  border-color: #596e5e;
}

/* Global day chips (in header) */
.schedule-days-global,
.schedule-students-global{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.schedule-days-global-label{
  font-size: 12px;
  color: #666d66;
  opacity: .8;
  margin-right: 2px;
}

.schedule-day-chip{
  border: 1px solid #d2d6d2;
  background: #fff;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  color: #596e5e;
  font-weight: 650;
  line-height: 1;
}

.schedule-day-chip--on{
  background: rgba(89,110,94,.10);
  border-color: #596e5e;
}

.schedule-day-chip--ghost{
  background: transparent;
  border-style: dashed;
  color: #666d66;
  font-weight: 600;
}

/* Student chips can be a tiny bit tighter */
.schedule-student-chip{
  padding: 6px 9px;
}

/* Chevron pager buttons (match app chevron feel) */
.schedule-chev-btn{
  border: none;
  background: transparent;
  padding: 2px 4px;
  border-radius: 10px;
  color: #596e5e;
  line-height: 1;
}
.schedule-chev-btn:hover{ background: rgba(89,110,94,.08); }
.schedule-chev-btn:active{ background: rgba(89,110,94,.12); }

.schedule-chev{
  width: 20px;
  height: 20px;
  display:block;
}

/* =========================================================
   Panels (Student View)
   ========================================================= */

.schedule-panels{
  width: 100%;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.schedule-panel-row{
  flex: 1;
  min-height: 0;

  display: grid;
  grid-template-columns: repeat(2, minmax(380px, 1fr));
  gap: 12px;

  align-items: stretch;
}

/* Panel becomes a flex column so header stays fixed and body can flex */
.schedule-panel{
  display: flex;
  flex-direction: column;
  min-height: 0;
}

/* Body fills remaining height (instead of expanding the whole page) */
.schedule-panel-body{
  flex: 1;
  min-height: 0;
}

/* Board inherits the body height (keeps your horizontal scroll working) */
.schedule-board{
  height: 100%;
  min-height: 0;
}

/* On smaller screens, stack panels */
@media (max-width: 1024px){
  .schedule-panel-row{ grid-template-columns: 1fr; }
}

/* Panel shell */
.schedule-panel{
  border: 1px solid #e5e8e5;
  border-radius: 16px;
  background: #fff;
  overflow: visible; /* dropdown can overflow */
}

/* Panel header: slim + clean */
.schedule-panel-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 8px 12px;
  background: #fff;
  border-bottom: 1px solid #e5e8e5;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  overflow: visible;
}

/* Header layout: dropdown left, Day 1ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬ÃƒÂ¢Ã¢â€šÂ¬Ã…â€œ5 on right */
.schedule-panel-title{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  width:100%;
  min-width:0;
  overflow: visible;
}

.schedule-panel-range{
  margin-left:auto;
  font-size: 12px;
  color: #6b756b;
  white-space: nowrap;
}

/* Panel body: keep internals clipped and corners clean */
.schedule-panel-body{
  padding: 12px;
  background: #fbfbf9;
  border-bottom-left-radius: 16px;
  border-bottom-right-radius: 16px;
  overflow: hidden;
}

/* =========================================================
   Week Builder Board (RESTORED + FIXED)
   ========================================================= */

/* This is the scroll container */
.schedule-board{
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 8px; /* room for scrollbar */
}

/*
  KEY FIX:
  Use auto-fit so when visibleDays is 3, you get 3 columns that expand.
  When the screen is narrow, minmax(220px, 1fr) forces horizontal scroll.
*/
.schedule-columns{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
  width: 100%;
  min-width: 0;

  /* NEW: make the grid fill the panel body so columns can reach the bottom */
  height: 100%;
  align-items: stretch;
}

.schedule-col{
  border: 1px solid #e5e8e5;
  border-radius: 14px;
  background: #fbfbf9;
  display: flex;
  flex-direction: column;

  /* NEW: critical — allow the column to shrink and fill available height
     (removes “grow forever” behavior) */
  min-height: 0;
  height: 100%;
}

.schedule-col-head{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  padding: 12px 12px 10px;
  border-bottom: 1px solid #e5e8e5;
  background: #fff;
  border-top-left-radius: 14px;
  border-top-right-radius: 14px;
}

.schedule-col-title{
  font-weight: 650;
  font-size: 13px;
  color: #262b26;
}

.schedule-col-total{
  font-size: 12px;
  color: #596e5e;
  font-weight: 600;
}

.schedule-dropzone{
  flex: 1;
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
}

.schedule-empty{
  font-size: 12px;
  color: #666d66;
  opacity: .7;
  border: 1px dashed #d2d6d2;
  border-radius: 12px;
  padding: 12px;
  text-align: center;
  background: rgba(255,255,255,.6);
}

/* =========================================================
   Student dropdown (final)
   ========================================================= */

.student-select{
  position: relative;
  display: inline-block;
  width: auto;
  max-width: 100%;
  flex: 0 1 auto;
}

.student-select-trigger{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;

  padding: 6px 8px;
  border: none;
  border-radius: 10px;
  background: transparent;

  font-size: 13px;
  font-weight: 650;
  color: #262b26;
  line-height: 1.1;
}

.student-select-trigger:hover{
  background: rgba(89,110,94,.06);
}

.student-select-trigger:focus{
  outline: none;
  box-shadow: 0 0 0 3px rgba(89,110,94,.12);
}

.student-select-label{
  display:block;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  max-width: 220px;
}

.student-select-caret{
  width: 18px;
  height: 18px;
  opacity: .75;
  flex: 0 0 auto;
}

/* Menu */
.student-select-menu{
  position:absolute;
  top: calc(100% + 8px);
  left: 0;
  width: 320px;
  max-width: min(320px, 80vw);

  background:#fff;
  border: none;
  border-radius: 14px;
  box-shadow: 0 14px 34px rgba(0,0,0,.12);

  padding: 6px;
  z-index: 9999;

  max-height: 280px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Options */
.student-select-option{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;

  text-align:left;
  padding: 10px 10px;
  border-radius: 12px;

  background: transparent;
  border: 0;
  cursor: pointer;

  font-size: 13px;
  color: #262b26;
}

.student-select-option:hover{
  background: #f4f6f4;
}

.student-select-check{
  opacity: .85;
  font-weight: 800;
  color: #596e5e;
}

/* =========================================================
   Schedule Cards (static for now)
   ========================================================= */

.sched-card{
  border: 1px solid #e5e8e5;
  border-radius: 14px;
  background: #fff;
  padding: 10px 10px 9px;
  box-shadow: 0 1px 0 rgba(0,0,0,.03);
}

.sched-card-top{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 4px;
}

.sched-card-title{
  font-weight: 650;
  font-size: 13px;
  color: #262b26;
}

.sched-card-min{
  font-size: 12px;
  color: #596e5e;
  font-weight: 650;
  white-space: nowrap;
}

.sched-card-sub{
  font-size: 12px;
  color: #666d66;
}

/* =========================================================
   Schedule Cards ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â long title handling
   ========================================================= */

/* Make the top row behave nicely when titles are long */
.sched-card-top{
  align-items: flex-start; /* instead of baseline */
}

/* Title: clamp to 2 lines and ellipsis */
.sched-card-title{
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;     /* <- change to 1 or 3 if you prefer */
  overflow: hidden;

  line-height: 1.2;
  max-width: 100%;
}

/* Minutes: keep it pinned to the right, never wrap */
.sched-card-min{
  flex: 0 0 auto;
  margin-left: 10px;
}

/* Optional: smaller subtext if title wraps */
.sched-card-sub{
  margin-top: 2px;
}

/* =========================================================
   Phase 2.5 ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â Card rail + minor card controls
   ========================================================= */

.sched-rail-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.sched-rail-btn{
  border: 1px solid #d2d6d2;
  background: #fff;
  border-radius: 12px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 650;
  color: #596e5e;
}

.sched-rail-btn:hover{
  background: rgba(89,110,94,.06);
}

.sched-rail-btn--primary{
  border-color: #596e5e;
}

.sched-rail-target{
  font-weight: 650;
  color: #262b26;
}

.sched-rail-choice-row{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

/* Grade-band chips (Picture Study) */
.sched-rail-chip--sm {
  padding: 3px 8px;         
  font-size: 11px;          
  line-height: 1.2;
  border-width: 1px;       
  border-radius: 999px;     
  min-height: 24px;
  background: #f5f7f4;
}


.sched-rail-chip--on{
  background: #e8efe9;
  border-color: #596e5e;
}

.sched-rail-item{
  border: 1px solid #e5e8e5;
  border-radius: 14px;
  background: #fbfbf9;
  padding: 10px;
  margin-bottom: 10px;
}

.sched-rail-item-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}

/* Top line right-side group: tracker + minutes */
.sched-rail-item-top-right{
  display:flex;
  align-items:center;
  gap:8px;
  flex: 0 0 auto;
}

/* Custom card bottom-left controls */
.sched-rail-custom-actions{
  margin-top: 6px;
  display:flex;
  gap:8px;
  justify-content:flex-start;
}

.sched-rail-item-title{
  font-size: 13px;
  font-weight: 650;
  color: #262b26;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  line-height: 1.2;
}

.sched-rail-item-min{
  font-size: 12px;
  color: #596e5e;
  font-weight: 650;
  white-space: nowrap;
  margin-left: 8px;
}

.sched-rail-item-sub{
  font-size: 12px;
  color: #666d66;
  margin-top: 4px;
}

.sched-rail-actions{
  margin-top: 8px;
  display:flex;
  justify-content:flex-end;
}

/* Remove button on placed cards */
.sched-card{
  position: relative;
}

.sched-card-remove{
  position:absolute;
  top: auto;
  bottom: 6px;
  right: 6px;
  border: none;
  background: transparent;
  color: #666d66;
  opacity: .65;
  font-size: 14px;
  line-height: 1;
  padding: 4px 6px;
  border-radius: 10px;
}

.sched-card-remove:hover{
  background: rgba(0,0,0,.06);
  opacity: .9;
}

/* =========================================================
   Rail target picker + compact option chips
   ========================================================= */

.sched-target{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding: 10px;
  border: 1px solid #e5e8e5;
  border-radius: 14px;
  background: #fbfbf9;
}

.sched-target-select{
  width: 100%;
  border: 1px solid #d2d6d2;
  border-radius: 12px;
  padding: 8px 10px;
  font-size: 13px;
  font-weight: 650;
  color: #262b26;
  background:#fff;
}

.sched-target-days{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.sched-target-day{
  border: 1px solid #d2d6d2;
  background:#fff;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 650;
  color:#596e5e;
  line-height:1;
}

.sched-target-day--on{
  background: rgba(89,110,94,.10);
  border-color:#596e5e;
}

.sched-rail-inline-choices{
  margin-top: 8px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.sched-rail-chip--sm{
  padding: 5px 9px;
  font-size: 12px;
}

.sched-rail-actions{
  gap: 8px;
  align-items: center;
}

.sched-rail-icon-btn{
  border: 1px solid #d2d6d2;
  background: #fff;
  border-radius: 12px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 750;
  color: #666d66;
  line-height: 1;
}

.sched-rail-icon-btn:hover{
  background: rgba(0,0,0,.06);
}

.sched-rail-daytoggles{
  display:flex;
  gap:4px;
  align-items:center;
}

/* Smaller MTWThF toggles */
.sched-rail-daytoggle{
  height: 18px;
  min-width: 20px;
  padding: 0 4px;
  border-radius: 5px;
  letter-spacing: .01em;
  border: 1px solid #d2d6d2;
  background: #fff;
  color: #596e5e;
  font-size: 11px;
  line-height: 1;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.sched-rail-daytoggle--on{
  border-color: #596e5e;
  background: rgba(89,110,94,.10); /* filled ON state */
  color: #596e5e;
  font-weight: 700;
}

/* =========================
   Rail: sticky controls + clearer sections
   ========================= */

.sched-rail {
  display: flex;
  flex-direction: column;
  min-height: 0; /* critical for nested scrolling */
}

/* sticky top area */
.sched-rail-top {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #fff;
  padding-bottom: 12px;
  border-bottom: 1px solid #e5e8e5;
}

/* scrolling list area */
.sched-rail-scroll {
  min-height: 0;
  overflow: auto;
  padding-top: 12px;
}

/* section blocks: subtle “you are here” cues */
.sched-rail-block {
  border-radius: 14px;
  padding: 10px;
  margin-top: 10px;
}

/* Need = slightly warmer tint + gentle left rail */
.sched-rail-block--need {
  background: rgba(89, 110, 94, 0.05);
  border: 1px solid rgba(210, 214, 210, 0.9);
}

/* Complete = a touch lighter so it feels “finished” */
.sched-rail-block--complete {
  background: rgba(102, 109, 102, 0.04);
  border: 1px solid rgba(210, 214, 210, 0.8);
}

/* section labels pop a bit more */
.sched-rail-section-head {
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-size: 12px;
  opacity: 0.75;
}

/* =========================================================
   Custom modal (replaces browser confirm/prompt)
   ========================================================= */

.sched-modal-overlay{
  position: fixed;
  inset: 0;
  z-index: 9999;
}

.sched-modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.28);
}

.sched-modal{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(520px, calc(100vw - 28px));
  background: #fff;
  border: 1px solid #e5e8e5;
  border-radius: 18px;
  box-shadow: 0 18px 50px rgba(0,0,0,.18);
  overflow: hidden;
}

.sched-modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 14px 16px;
  border-bottom: 1px solid #e5e8e5;
  background:#fff;
}

.sched-modal-title{
  font-weight: 700;
  color:#262b26;
  font-size: 14px;
}

.sched-modal-close{
  border: none;
  background: transparent;
  padding: 6px 8px;
  border-radius: 12px;
  color:#666d66;
}
.sched-modal-close:hover{ background: rgba(0,0,0,.06); }

.sched-modal-body{
  padding: 14px 16px;
  background:#fbfbf9;
}

.sched-modal-label{
  display:block;
  font-size: 12px;
  font-weight: 650;
  color:#262b26;
  margin-top: 2px;
}

.sched-modal-input{
  width: 100%;
  margin-top: 6px;
  border: 1px solid #d2d6d2;
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 13px;
  background:#fff;
}

.sched-modal-error{
  margin-top: 10px;
  font-size: 12px;
  color: #b42318;
  font-weight: 650;
}

.sched-modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:10px;
  padding: 12px 16px;
  border-top: 1px solid #e5e8e5;
  background:#fff;
}

.sched-modal-btn{
  border: 1px solid #d2d6d2;
  background:#fff;
  border-radius: 12px;
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 700;
  color:#596e5e;
}

.sched-modal-btn:hover{ background: rgba(89,110,94,.06); }

.sched-modal-btn-primary{
  border-color:#596e5e;
  background:#596e5e;
  color:#fff;
}
.sched-modal-btn-primary:hover{ background:#506550; }

.sched-modal-btn-danger{
  border-color:#b42318;
  background:#b42318;
  color:#fff;
}
.sched-modal-btn-danger:hover{ background:#991b13; }

/* =========================================================
   Rail compact layout + + button
   ========================================================= */

/* Rail section labels + separators */
.sched-rail-sep{
  margin: 12px -16px 10px;      /* full-width inside p-4 rail */
  border-top: 1px solid #e5e8e5;
}

.sched-rail-section-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.sched-rail-section-head{
  font-size: 11px;
  font-weight: 650;
  letter-spacing: .02em;
  text-transform: uppercase;
  color: #666d66;
  opacity: .8;
  margin: 0 0 6px;
  line-height: 1.25;
  padding-top: 2px; 
}

.sched-rail-toggle{
  appearance:none;
  background: transparent;
  border: none;
  padding: 0;
  font-size: 11px;
  font-weight: 600;
  color: #596e5e;
  opacity: .85;
  cursor: pointer;
  line-height: 1;
}
.sched-rail-toggle:hover{ opacity: 1; }

.sched-rail-complete-wrap{
  margin-top: 10px;
}

.sched-rail-item{
  padding: 10px;
}

.sched-rail-item-sub{
  margin-top: 2px;
}

/* keep symbols + controls on one row */
.sched-rail-actions{
  margin-top: 6px;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:8px;
}

/* small circular + button (instead of ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã¢â‚¬Å“AddÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€šÃ‚Â) */
/* Small light add button */
.sched-rail-add {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  border: 1px solid #e5e8e5;
  background: #fff;
  color: #596e5e;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
}

.sched-rail-add:hover {
  background: #f7f8f7;
}

/* =========================================================
   Group option band (chips in a bottom band)
   ========================================================= */

/* Picture Study band footer */
.sched-rail-band{
  margin-top: 8px;

  /* pull the band to the card edges (matches .sched-rail-item padding) */
  margin-left: -10px;
  margin-right: -10px;
  margin-bottom: -8px;

  padding: 10px 10px;
  border-top: 1px solid #e5e8e5;
  background: #f3f4ef;
  border-radius: 0 0 14px 14px;
}

.sched-rail-band-chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

/* --- Rail card tightening --- */
.sched-rail-item {
  padding: 10px 10px 0;
  overflow: hidden;
}

/* Title + minutes line */
.sched-rail-item-top {
  margin-bottom: 2px;
}

/* Symbols row becomes flex */
.sched-rail-item-sub {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-size: 12px;
  opacity: 0.8;
  line-height: 1.2;
}

/* Reduce rail list spacing */
.sched-rail-list {
  gap: 6px;
}

.sched-rail-item + .sched-rail-item {
  margin-top: 6px;
}

.sched-rail-item-title {
  font-size: 13px;
  line-height: 1.25;
}

/* =========================================================
   Rail: symbols + actions row (under minutes)
   ========================================================= */

.sched-rail-meta{
  margin-top: 4px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.sched-rail-symbols{
  font-size: 12px;
  color: #666d66;
  line-height: 1.2;
  min-width: 0;
}

/* Left side of the meta row: symbols + grade tag */
.sched-rail-meta-left{
  display:flex;
  align-items:center;
  gap:8px;
  min-width:0;
}

/* Custom (user) card inline controls next to symbols */
.sched-rail-custom-inline{
  display:flex;
  align-items:center;
  gap:6px;
}

/* Grade text shown inline with symbols (no pill) */
.sched-rail-grade{
  font-size: 12px;
  font-weight: 500;
  color: #666d66;       /* same family as symbols */
  line-height: 1.2;
  white-space: nowrap;
}

/* keep buttons tight + aligned under minutes */
.sched-rail-actions{
  margin-top: 0;          /* override older rules */
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:8px;
}

/* Make edit/delete match the + button feel/size */
.sched-rail-icon-btn{
  width: 24px;
  height: 24px;
  border-radius: 6px;
  border: 1px solid #e5e8e5;
  background:#fff;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 0;
  font-size: 13px;
  line-height: 1;
  color:#666d66;
}
.sched-rail-icon-btn:hover{ background:#f7f8f7; }

/* =========================================================
   Picture Study footer: compact + darker + full-width
   ========================================================= */

.sched-rail-band{
  margin-top: 8px;
  padding: 8px 10px;
  border-top: 1px solid #e5e8e5;
  background: rgba(89,110,94,.06); /* slightly darker footer strip */
  border-radius: 0 0 14px 14px;   /* match card radius */
}

.sched-rail-band-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.sched-rail-band-label{
  margin: 0;
  font-size: 11px;
  font-weight: 650;
  opacity: .75;
  white-space: nowrap;
}

.sched-rail-band-chips{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

/* Tracking chip on rail title line */
.sched-rail-trackchip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 34px;
  height: 24px;                 /* match + button height */
  padding: 0 6px;
  border: 1px solid #e5e8e5;    /* match + button */
  border-radius: 6px;          /* match + button */
  background: #fff;            /* match + button */
  color: #596e5e;              /* match + button */
  font-size: 12px;
  font-weight: 650;
  line-height: 1;
}

.sched-rail-trackchip--done{
  border-color: #d2d6d2;
  color: #596e5e; /* subtle ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã¢â‚¬Å“finishedÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€šÃ‚Â */
}

.sched-rail-check{
  width: 16px;
  height: 16px;
  display:block;
}


/* =========================================================
   Option C rail layout (rows + footer)
   ========================================================= */
.sched-rail-row1{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:10px;
}

.sched-rail-row1-right{
  display:flex;
  align-items:baseline;
  gap:8px;
}

.sched-rail-row2{
  margin-top: 4px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

/* tracker/check lives on row 2 (right) */
.sched-rail-track{
  display:inline-flex;
  align-items:center;
  justify-content:flex-end;
  min-width: 34px;
  height: 18px;
  font-size: 12px;
  font-weight: 650;
  color:#596e5e;
  opacity: .9;
}

.sched-rail-track.is-done{
  opacity: .85;
}

.sched-rail-check{
  width: 16px;
  height: 16px;
  display:block;
}

/* Footer strip on every card */
.sched-rail-footer{
  margin-top: 8px;
  padding: 8px 10px;
  border-top: 1px solid #e5e8e5;
  background: rgba(89,110,94,.06);
  border-radius: 0 0 14px 14px;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:10px;

  /* match the cardÃ¢â‚¬â„¢s 10px side padding */
  margin-left: -10px;
  margin-right: -10px;
}

/* When grade options exist, they sit on the left side of the footer */
.sched-rail-footer-left{
  display:flex;
  gap:6px;
  align-items: center;
  margin-right: auto;
}

/* Make grade option chips match weekday toggle scale */
.sched-rail-footer-left .sched-rail-chip--sm{
  height: 26px;
  padding: 0 10px;
  border-radius: 14px;
}

/* Remove older spacing if still present anywhere */
.sched-rail-band{ display:none; }

/* Grade-band dropdown (replaces chip row) */
.sched-rail-grade-select{
  height: 18px;                 /* match weekday toggle height */
  border: 1px solid #d2d6d2;
  border-radius: 10px;
  padding: 0 22px 0 8px;        /* extra right padding for caret */
  background: #fff;
  color: #596e5e;
  font-size: 12px;
  line-height: 18px;
  font-weight: 500;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  cursor: pointer;
}

/* Grade selector wrapper */
.sched-rail-grade-select-wrap{
  position: relative;
  display: inline-flex;
  align-items: center;
}

/* Grade-band dropdown */
.sched-rail-grade-select{
  height: 18px;
  border: 1px solid #d2d6d2;
  border-radius: 10px;
  padding: 0 22px 0 8px;
  background: #fff;
  color: #596e5e;
  font-size: 12px;
  line-height: 18px;
  font-weight: 500;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  cursor: pointer;
}

/* Chevron icon (matches other dropdowns) */
.sched-rail-grade-chevron{
  position: absolute;
  right: 6px;
  width: 12px;
  height: 12px;
  color: #596e5e;
  pointer-events: none;
}

/* =========================================================
   Drag reorder (Phase 1)
   ========================================================= */

.sched-card[draggable="true"]{
  cursor: grab;
}

body.sched-dragging .sched-card[draggable="true"]{
  cursor: grabbing;
}

/* While dragging, slightly mute non-dragged cards (keeps it calm) */
body.sched-dragging .sched-card{
  opacity: 0.92;
}

/* =========================================================
   Drag reorder: visual drop indicator
   ========================================================= */

.sched-card.is-drag-source{
  opacity: 0.65;
}

/* Subtle highlight on the card you're hovering over */
.sched-card.is-drop-target{
  box-shadow: 0 0 0 3px rgba(89,110,94,.12);
}

/* Insertion line (top/bottom) */
.sched-card.is-drop-target{
  position: relative;
}

.sched-card.is-drop-target::before{
  content:"";
  position:absolute;
  left: 10px;
  right: 10px;
  height: 2px;
  background: rgba(89,110,94,.55);
  border-radius: 2px;
  top: -6px;
  opacity: 0; /* default off, turned on by data attr below */
}

/* We'll flip this line to top/bottom using a data attribute on BODY */
body.sched-drop-above .sched-card.is-drop-target::before{
  top: -6px;
  opacity: 1;
}

body.sched-drop-below .sched-card.is-drop-target::before{
  top: auto;
  bottom: -6px;
  opacity: 1;
}
